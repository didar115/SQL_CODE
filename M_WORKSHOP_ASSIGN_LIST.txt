/* Formatted on 6/30/2022 2:09:33 PM (QP5 v5.287) */
SELECT VI.JOB_NUMBER,
       MVI.REQUEST_NUMBER,
       DEP.DEPARTMENT_NAME,
       VESS.NAME VESSEL_NAME,
       VM.EMP_NAME VESSEL_MASTER,
       MVI.INSPECTION_APPROVE_DATE,
       WS.NAME WORKSHOP_NAME,
       SAE.EMP_NAME ASSIGNED_SAE_EMP_NAME,
       IJ.NAME JOB_NAME
  FROM MDA.MW_VESSEL_INSPECTIONS VI
       LEFT JOIN MDA.MW_MAINTENANCE_REQS mvi
          ON mvi.ID = VI.MAINTENANCE_REQ_ID
       LEFT JOIN PMIS.L_DEPARTMENT DEP
          ON DEP.DEPARTMENT_ID = MVI.DEPARTMENT_ID
       LEFT JOIN MDA.CPA_VESSELS VESS ON VESS.ID = MVI.VESSEL_ID
       LEFT JOIN PMIS.EMPLOYEE VM ON VM.EMP_ID = VESS.INCHARGE_EMP_ID
       LEFT JOIN MDA.MW_WORKSHOPS WS ON WS.ID = vi.WORKSHOP_ID
       LEFT JOIN MDA.MW_MAINTENANCE_INSPECTOR mi
          ON mi.INSPECTOR_JOB_NUMBER = VI.JOB_NUMBER
       LEFT JOIN PMIS.EMPLOYEE SAE ON mi.ASSIGNED_SAE_EMP_ID = SAE.EMP_ID
       LEFT JOIN MDA.MW_INSPECTION_JOBS IJ ON IJ.ID = VI.INSPECTION_JOB_ID
 WHERE vi.MAINTENANCE_REQ_ID = nvl(:p_maintenace_req_id, vi.MAINTENANCE_REQ_ID)